# Secure Redis Configuration
# Bind to all interfaces (for Docker networking)
bind 0.0.0.0

# Protected mode - require password from external hosts
protected-mode yes

# Simple password authentication (no ACL user setup)
requirepass test123

# Disable dangerous commands
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command DEBUG ""

# Maximum memory
maxmemory 256mb
maxmemory-policy allkeys-lru

# Enable AOF persistence
appendonly yes
appendfsync everysec

# Disable RDB persistence (security: no sensitive data on disk)
save ""

# Logging
loglevel notice
logfile ""

# Timeout
timeout 300
tcp-keepalive 60

# Client connections
maxclients 100

# Security settings
tcp-backlog 511
